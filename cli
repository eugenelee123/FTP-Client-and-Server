import socket
import os
import sys

if (len(sys.argv) < 3):
    print("USAGE python " + sys.argv[0] + " <server machine> <server port>")
    exit()

machine = sys.argv[1]
port = int(sys.argv[2])

# print("Machine: ", machine)
# print("Port: ", port)
 
#AF_INET refers to ipv4, SOCK_STREAM specifies TCP connection
connSock = socket.socket(socket.AF_INET,socket.SOCK_STREAM)
try:
    connSock.connect((machine,port))
except socket.error as e:
    print("Connection failed. Reason: ", e)
    sys.exit()

option = ""
while(option != "quit"):
    option = input("ftp> ")
    if(option == "get"):
        filename = option.split()
        print(filename)
    if(option == "put"):
        print(option)
    if(option == "ls"):
        print("ls")
    

# Print out ftp prompt and await user input to get next action